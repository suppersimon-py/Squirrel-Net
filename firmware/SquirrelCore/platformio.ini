; ============================================================
; PlatformIO Project Configuration File for SquirrelCore
; Hardware: ESP32-S3FN8 + SX1262 + PA1010D + BME280 + OLED (HS91L02W2C01)
; ============================================================

[platformio]
default_envs = squirrelcore

[env:squirrelcore]
platform = espressif32
framework = arduino
board = esp32-s3-devkitc-1
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_build.partitions = default_8MB.csv
board_check = true
board_level = pr
custom_esp32_kind = esp32s3

; ============================================================
; Build Flags
; ============================================================
build_flags =
  -D VENDOR_CUSTOM
  -D BOARD_SQUIRRELCORE
  -D BOARD_NAME="SquirrelCore"
  -D HAS_LORA
  -D HAS_BME280
  -D HAS_GPS
  -D HAS_DISPLAY
  -D HAS_BUZZER
  -D HAS_BATTERY_MONITOR
  -D GPS_POWER_TOGGLE  ; Comment this line to disable triple press function on the user button to turn off GPS entirely.
  -I variants/esp32s3/SquirrelCore   ; Path to your variant folder (variant.h)

; ============================================================
; Source File Filters
; ============================================================
; Includes variant source directory and excludes hidden folders
build_src_filter =
  +<*>
  -<.git/>
  -<.svn/>
  +<variants/esp32s3/SquirrelCore/>

; ============================================================
; Library Dependencies
; ============================================================
lib_deps =
  adafruit/Adafruit BME280 Library
  sandeepmistry/LoRa
  adafruit/Adafruit SSD1306
  mikalhart/TinyGPSPlus

; ============================================================
; Optional: Ignore Unused Libraries (reduces binary size)
; ============================================================
; lib_ignore =
;   SD
;   WiFi
;   WebServer
;   HTTPClient
;   WiFiClientSecure
;   ESPmDNS
;   ESP32 Async UDP

; ============================================================
; Serial Monitor Configuration
; ============================================================
monitor_speed = 115200
monitor_filters = default

; ============================================================
; Upload Settings
; ============================================================
upload_speed = 921600
upload_protocol = esptool
